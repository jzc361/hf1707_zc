<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>项目日志</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,user-scalable=yes, minimum-scale=0.4, initial-scale=0.8,target-densitydpi=low-dpi" />
    <link rel="stylesheet" href="__CSS__/admin/font.css">
    <link rel="stylesheet" href="__CSS__/admin/xadmin.css">
    <link rel="stylesheet" href="__CSS__/bootstrap.min.css">
</head>
<style>
    #progress{
        margin: 20px auto;
    }
    .container{background-color: #fff;}
</style>
<body>
<div id="vueDiv" class="container">
    <h4>项目：{$pro.projectname}</h4>
    <div><button type="button" class="btn btn-info" onclick="updateLog({$pro.projectid})">更新动态</button></div>
    <div role="tabpanel" class="tab-pane" id="progress">
        {volist name="prolog" id="log"}
        <ul class="layui-timeline">
            <li class="layui-timeline-item">
                <i class="layui-icon layui-timeline-axis"><div class="glyphicon glyphicon-record"></div></i>
                <div class="layui-timeline-content layui-text">
                    <h5 class="layui-timeline-title">{$log.logtime}</h5>
                    <div class="logcontent">
                        <p>
                            {$log.prologinfo}
                        </p>
                    </div>
                </div>
            </li>
        </ul>
        {/volist}
    </div>
    <log></log>
</div>
</body>
<script src="__JS__/jquery-2.1.4.js"></script>
<script src="__JS__/vue.js"></script>
<script src="__JS__/bootstrap.min.js"></script>
<!--<script src=" __JS__/lay/modules/layer/jquery.js"></script>-->
<script src=" __JS__/lay/modules/layer.js"></script>
<script>

    function updateLog(projectid){
        /*layer.open({
            type: 1,
            title: false,
            closeBtn: 0,
            shadeClose: true,
            skin: 'yourclass',
            content: '<div style="border: 1px solid;margin: auto">hahaha</div>'
        });*/
        /*layer.open({
            type: 2,
            area: ['700px', '450px'],
            fixed: false, //不固定
            maxmin: true,
            content: '<div style="border: 1px solid;margin: auto">hahaha</div>'
        });*/

        console.log(projectid);
    }
    new Vue({
        el : '#vueDiv',
        //数据
        data:{
            //   failreason:''

        },
        //方法
        methods:{
//            proDispass:function($projectid){
//                console.log($projectid,this.failreason);
//            }
        },

        mounted:function(){
            //发送ajax
        }
    });

    Vue.component('log',{
        template:'  <h4>项目：{$pro.projectname}</h4>\
                    <div><button type="button" class="btn btn-info">更新动态</button></div>\
                        <div role="tabpanel" class="tab-pane" id="progress">\
                        {volist name="prolog" id="log"}\
                        <ul class="layui-timeline">\
                            <li class="layui-timeline-item">\
                                <i class="layui-icon layui-timeline-axis"><div class="glyphicon glyphicon-record"></div></i>\
                                <div class="layui-timeline-content layui-text">\
                                    <h5 class="layui-timeline-title">{$log.logtime}</h5>\
                                    <div class="logcontent">\
                                        <p>\
                                        {$log.prologinfo}\
                                        </p>\
                                    </div>\
                                </div>\
                            </li>\
                        </ul>\
                        {/volist}\
                    </div>'
    });
</script>
</html>